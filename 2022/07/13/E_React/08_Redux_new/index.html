<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color" content="#3367D6"/>
  <link rel="apple-touch-icon" href="/icons-192.png">
  <link rel="manifest" href="/manifest.json">
  
  <meta name="generator" content="Hexo 5.4.2">

  

  

  
    <meta name="author" content="Duke Shao">
  

  

  

  <title>08_Redux_new | 你的名字</title>

  

  
    <link rel="shortcut icon" href="/favicon.ico">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@1.1.3/index.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlightjs@9.16.2/styles/monokai.css">
  

  
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
  <div class="root-container">
    
<!-- header container -->
<header class="header-container post">
  
    <div class="post-image" style="background-image: url(/2022/07/13/hell/cover-04.jpg-webp.jpg)"></div>
  

  <!-- navbar -->
<nav class="navbar">
  <div class="navbar-content">
    <!-- logo -->
    <div class="navbar-logo">
      <a href="/">
        
          你的名字
        
      </a>
    </div>
    <!-- link -->
    <div class="navbar-link">
      <div class="navbar-btn">
        <div></div>
        <div></div>
        <div></div>
      </div>
      <ul class="navbar-list">
        
          <li class="navbar-list-item"><a href="/">首页</a></li>
        
          <li class="navbar-list-item"><a href="/links">友链</a></li>
        
          <li class="navbar-list-item"><a href="/about">关于</a></li>
        
      </ul>
    </div>
  </div>
</nav>

  
  

  
  

  
  

  
  

  
  
    <div class="header-content">
      <div class="post-text layout-block">
        <div class="layout-margin">
          <h1 class="title-wrap">08_Redux_new</h1>
          <h2 class="title-sub-wrap">
            <strong>Duke Shao</strong>
            <span>发布于</span>
            <time  class="article-date" datetime="2022-07-12T22:59:00.000Z" itemprop="datePublished">2022-07-13</time>
          </h2>
          <ul class="wrap-list dark">
  
    <li><a href="/categories/E-React/">📒 E_React</a></li>
  
</ul>
          <ul class="wrap-list dark">
  
</ul>
        </div>
      </div>
    </div>
  

  
  
  
</header>

    <!-- 文章 -->

<!-- 文章内容 -->
<div class="body-container">
  <article class="content-container layout-block post-container">
    <div class="article-info">
      
      
      
      
      <section class="article-entry markdown-body layout-margin content-padding--large soft-size--large soft-style--box">
        <h1 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h1><h1 id="一、安装"><a href="#一、安装" class="headerlink" title="一、安装"></a>一、安装</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save redux</span><br></pre></td></tr></table></figure>

<h1 id="二、基础案例"><a href="#二、基础案例" class="headerlink" title="二、基础案例"></a>二、基础案例</h1><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 这是一个装置 reducer，一个纯函数 function(state,action)=&gt;state signature</span></span><br><span class="line"><span class="comment"> * 它描述一个行为如何将状态变成下一个状态</span></span><br><span class="line"><span class="comment"> * 这个状态可以是一个简单的变量、一个数组、一个对象、甚至可以是Immutable.js的数据类型，请返回一个新的 state 来改变状态</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * In this example, we use a `switch` statement and strings, but you can use a helper that</span></span><br><span class="line"><span class="comment"> * follows a different convention (such as function maps) if it makes sense for your</span></span><br><span class="line"><span class="comment"> * project.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">counter</span>(<span class="params">state = <span class="number">0</span>, action</span>) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (action.<span class="property">type</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;INCREMENT&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> state + <span class="number">1</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;DECREMENT&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> state - <span class="number">1</span></span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="keyword">return</span> state</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Its API is &#123; subscribe, dispatch, getState &#125;.</span></span><br><span class="line"><span class="keyword">let</span> store = <span class="title function_">createStore</span>(counter)</span><br><span class="line"></span><br><span class="line"><span class="comment">// subscribe() =&gt; 监听</span></span><br><span class="line">store.<span class="title function_">subscribe</span>(<span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(store.<span class="title function_">getState</span>()))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用dispatch an action(分发一个行为)是唯一的方式去改变状态</span></span><br><span class="line"><span class="comment">// 这些操作可以序列化、记录或存储，然后重播</span></span><br><span class="line">store.<span class="title function_">dispatch</span>(&#123; <span class="attr">type</span>: <span class="string">&#x27;INCREMENT&#x27;</span> &#125;)</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line">store.<span class="title function_">dispatch</span>(&#123; <span class="attr">type</span>: <span class="string">&#x27;INCREMENT&#x27;</span> &#125;)</span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line">store.<span class="title function_">dispatch</span>(&#123; <span class="attr">type</span>: <span class="string">&#x27;DECREMENT&#x27;</span> &#125;)</span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure>



<h1 id="三、API"><a href="#三、API" class="headerlink" title="三、API"></a>三、API</h1><h2 id="（一）createStore"><a href="#（一）createStore" class="headerlink" title="（一）createStore"></a>（一）<code>createStore</code></h2><p>createStore(reducer, [preloadedState], [enhancer])</p>
<p>参数</p>
<p>1.<code>reducer</code>(Function): a reducint function that returns the next state tree, given the current state tree and an action to handle</p>
<p>2.<code>preloadedState</code>(any):the initial state</p>
<p>3.<code>enhancer</code>(Function):such as middleware、time traval、persistence、etc</p>
<p>返回值</p>
<p>(Store): an object that holds the complete state of your app. The only wat to change its state is by dispatching actions. You may also subscribe to the changes to its state to update the UI</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">todos</span>(<span class="params">state = [], action</span>) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (action.<span class="property">type</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;ADD_TODO&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> state.<span class="title function_">concat</span>([action.<span class="property">text</span>])</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="keyword">return</span> state</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(todos, [<span class="string">&#x27;Use Redux&#x27;</span>])</span><br><span class="line"></span><br><span class="line">store.<span class="title function_">dispatch</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;ADD_TODO&#x27;</span>,</span><br><span class="line">    <span class="attr">text</span>: <span class="string">&#x27;Read the docs&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(store.<span class="title function_">getState</span>())</span><br><span class="line"><span class="comment">// [ &#x27;Use Redux&#x27;, &#x27;Read the docs&#x27; ]</span></span><br></pre></td></tr></table></figure>



<h2 id="（二）combineReducers"><a href="#（二）combineReducers" class="headerlink" title="（二）combineReducers"></a>（二）<code>combineReducers</code></h2><p>combineReducers(reducers)</p>
<p>随着你的应用程序越来越完善，你可能想将你的 reducer 分离开来，每一个 reducer 都依赖于一个独立的 state</p>
<p>辅助函数 combineReducers 将多个 reducer 合并为一个 reducer，然后传递给 createStore；合并后的 reducer  对 child reducer 使用单独的命名空间，取决于传递的自定义属性名</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> rootReducer = <span class="title function_">combineReducers</span>(&#123;<span class="attr">potato</span>: potatoReducer, <span class="attr">tomato</span>: tomatoReducer&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> store = <span class="title function_">createStore</span>(rootReducer);</span><br><span class="line"><span class="comment">// This would produce the following state object</span></span><br><span class="line">store&#123;</span><br><span class="line">    <span class="attr">potato</span>: &#123;</span><br><span class="line">        <span class="comment">// ... potatoes, and other state managed by the potatoReducer ...</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">tomato</span>: &#123;</span><br><span class="line">        <span class="comment">// ... tomatoes, and other state managed by the tomatoReducer ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="（三）applyMiddleware"><a href="#（三）applyMiddleware" class="headerlink" title="（三）applyMiddleware"></a>（三）<code>applyMiddleware</code></h2><p><strong>Arguments:</strong></p>
<ul>
<li><code>...middleware</code> (<em>arguments</em>): Functions that conform to the Redux <em>middleware API</em>. Each middleware receives <a target="_blank" rel="noopener" href="https://redux.js.org/api/store"><code>Store</code></a>‘s <a target="_blank" rel="noopener" href="https://redux.js.org/api/store#dispatch"><code>dispatch</code></a> and <a target="_blank" rel="noopener" href="https://redux.js.org/api/store#getState"><code>getState</code></a> functions as named arguments, and returns a function. That function will be given the <code>next</code> middleware’s dispatch method, and is expected to return a function of <code>action</code> calling <code>next(action)</code> with a potentially different argument, or at a different time, or maybe not calling it at all. The last middleware in the chain will receive the real store’s <a target="_blank" rel="noopener" href="https://redux.js.org/api/store#dispatch"><code>dispatch</code></a> method as the <code>next</code> parameter, thus ending the chain. So, the middleware signature is <code>(&#123; getState, dispatch &#125;) =&gt; next =&gt; action</code>.</li>
</ul>
<p><strong>Returns:</strong></p>
<p>(<em>Function</em>) A store enhancer that applies the given middleware. The store enhancer signature is <code>createStore =&gt; createStore</code> but the easiest way to apply it is to pass it to <a target="_blank" rel="noopener" href="https://redux.js.org/api/createstore"><code>createStore()</code></a> as the last <code>enhancer</code> argument.</p>
<p><strong>Example: Custom Logger Middleware</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> todos <span class="keyword">from</span> <span class="string">&#x27;./reducers&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">logger</span>(<span class="params">&#123; getState &#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">next</span> =&gt;</span> <span class="function"><span class="params">action</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;will dispatch&#x27;</span>, action)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Call the next dispatch method in the middleware chain.</span></span><br><span class="line">        <span class="keyword">const</span> returnValue = <span class="title function_">next</span>(action)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;state after dispatch&#x27;</span>, <span class="title function_">getState</span>())</span><br><span class="line"></span><br><span class="line">        <span class="comment">// This will likely be the action itself, unless</span></span><br><span class="line">        <span class="comment">// a middleware further in chain changed it.</span></span><br><span class="line">        <span class="keyword">return</span> returnValue</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(todos, [<span class="string">&#x27;Use Redux&#x27;</span>], <span class="title function_">applyMiddleware</span>(logger))</span><br><span class="line"></span><br><span class="line">store.<span class="title function_">dispatch</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;ADD_TODO&#x27;</span>,</span><br><span class="line">    <span class="attr">text</span>: <span class="string">&#x27;Understand the middleware&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// (These lines will be logged by the middleware:)</span></span><br><span class="line"><span class="comment">// will dispatch: &#123; type: &#x27;ADD_TODO&#x27;, text: &#x27;Understand the middleware&#x27; &#125;</span></span><br><span class="line"><span class="comment">// state after dispatch: [ &#x27;Use Redux&#x27;, &#x27;Understand the middleware&#x27; ]</span></span><br></pre></td></tr></table></figure>



<h2 id="（四）bindActionCreators"><a href="#（四）bindActionCreators" class="headerlink" title="（四）bindActionCreators"></a>（四）<code>bindActionCreators</code></h2><p>bindActionCreators(actionCreators, dispatch)</p>
<p>Turns an object whose values are <a target="_blank" rel="noopener" href="https://redux.js.org/glossary#action-creator">action creators</a>, into an object with the same keys, but with every action creator wrapped into a <a target="_blank" rel="noopener" href="https://redux.js.org/api/store#dispatch"><code>dispatch</code></a> call so they may be invoked directly.</p>
<p>Normally you should just call <a target="_blank" rel="noopener" href="https://redux.js.org/api/store#dispatch"><code>dispatch</code></a> directly on your <a target="_blank" rel="noopener" href="https://redux.js.org/api/store"><code>Store</code></a> instance. If you use Redux with React, <a target="_blank" rel="noopener" href="https://github.com/gaearon/react-redux">react-redux</a> will provide you with the <a target="_blank" rel="noopener" href="https://redux.js.org/api/store#dispatch"><code>dispatch</code></a> function so you can call it directly, too.</p>
<p>The only use case for <code>bindActionCreators</code> is when you want to pass some action creators down to a component that isn’t aware of Redux, and you don’t want to pass <a target="_blank" rel="noopener" href="https://redux.js.org/api/store#dispatch"><code>dispatch</code></a> or the Redux store to it.</p>
<p>For convenience, you can also pass an action creator as the first argument, and get a dispatch wrapped function in return.</p>
<p><strong>Parameters:</strong></p>
<ol>
<li><code>actionCreators</code> (<em>Function</em> or <em>Object</em>): An <a target="_blank" rel="noopener" href="https://redux.js.org/glossary#action-creator">action creator</a>, or an object whose values are action creators.</li>
<li><code>dispatch</code> (<em>Function</em>): A <a target="_blank" rel="noopener" href="https://redux.js.org/api/store#dispatch"><code>dispatch</code></a> function available on the <a target="_blank" rel="noopener" href="https://redux.js.org/api/store"><code>Store</code></a> instance.</li>
</ol>
<p><strong>Returns:</strong></p>
<p>(<em>Function</em> or <em>Object</em>): An object mimicking the original object, but with each function immediately dispatching the action returned by the corresponding action creator. If you passed a function as <code>actionCreators</code>, the return value will also be a single function.</p>
<p><strong>Example:</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//TodoActionCreators.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">addTodo</span>(<span class="params">text</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;ADD_TODO&#x27;</span>,</span><br><span class="line">        text</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">removeTodo</span>(<span class="params">id</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;REMOVE_TODO&#x27;</span>,</span><br><span class="line">        id</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SomeComponent.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; bindActionCreators &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="title class_">TodoActionCreators</span> <span class="keyword">from</span> <span class="string">&#x27;./TodoActionCreators&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">TodoActionCreators</span>)</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//   addTodo: Function,</span></span><br><span class="line"><span class="comment">//   removeTodo: Function</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TodoListContainer</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(props)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> &#123; dispatch &#125; = props</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Here&#x27;s a good use case for bindActionCreators:</span></span><br><span class="line">        <span class="comment">// You want a child component to be completely unaware of Redux.</span></span><br><span class="line">        <span class="comment">// We create bound versions of these functions now so we can</span></span><br><span class="line">        <span class="comment">// pass them down to our child later.</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">boundActionCreators</span> = <span class="title function_">bindActionCreators</span>(<span class="title class_">TodoActionCreators</span>, dispatch)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">boundActionCreators</span>)</span><br><span class="line">        <span class="comment">// &#123;</span></span><br><span class="line">        <span class="comment">//   addTodo: Function,</span></span><br><span class="line">        <span class="comment">//   removeTodo: Function</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// Injected by react-redux:</span></span><br><span class="line">        <span class="keyword">let</span> &#123; dispatch &#125; = <span class="variable language_">this</span>.<span class="property">props</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Note: this won&#x27;t work:</span></span><br><span class="line">        <span class="comment">// TodoActionCreators.addTodo(&#x27;Use Redux&#x27;)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// You&#x27;re just calling a function that creates an action.</span></span><br><span class="line">        <span class="comment">// You must dispatch the action, too!</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// This will work:</span></span><br><span class="line">        <span class="keyword">let</span> action = <span class="title class_">TodoActionCreators</span>.<span class="title function_">addTodo</span>(<span class="string">&#x27;Use Redux&#x27;</span>)</span><br><span class="line">        <span class="title function_">dispatch</span>(action)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// Injected by react-redux:</span></span><br><span class="line">        <span class="keyword">let</span> &#123; todos &#125; = <span class="variable language_">this</span>.<span class="property">props</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">TodoList</span> <span class="attr">todos</span>=<span class="string">&#123;todos&#125;</span> &#123;<span class="attr">...this.boundActionCreators</span>&#125; /&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// An alternative to bindActionCreators is to pass</span></span><br><span class="line">        <span class="comment">// just the dispatch function down, but then your child component</span></span><br><span class="line">        <span class="comment">// needs to import action creators and know about them.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// return &lt;TodoList todos=&#123;todos&#125; dispatch=&#123;dispatch&#125; /&gt;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">connect</span>(<span class="function"><span class="params">state</span> =&gt;</span> (&#123; <span class="attr">todos</span>: state.<span class="property">todos</span> &#125;))(<span class="title class_">TodoListContainer</span>)</span><br></pre></td></tr></table></figure>

<p><strong>Tips:</strong></p>
<ul>
<li>You might ask: why don’t we bind the action creators to the store instance right away, like in classical Flux? The problem is that this won’t work well with universal apps that need to render on the server. Most likely you want to have a separate store instance per request so you can prepare them with different data, but binding action creators during their definition means you’re stuck with a single store instance for all requests.</li>
<li>If you use ES5, instead of <code>import * as</code> syntax you can just pass <code>require(&#39;./TodoActionCreators&#39;)</code> to <code>bindActionCreators</code> as the first argument. The only thing it cares about is that the values of the <code>actionCreators</code> properties are functions. The module system doesn’t matter.</li>
</ul>
<h2 id="（五）compose"><a href="#（五）compose" class="headerlink" title="（五）compose"></a>（五）<code>compose</code></h2><p>compose(…functions)</p>
<p>Composes functions from right to left.</p>
<p>This is a functional programming utility, and is included in Redux as a convenience.<br>You might want to use it to apply several <a target="_blank" rel="noopener" href="https://redux.js.org/glossary#store-enhancer">store enhancers</a> in a row.</p>
<p><strong>Arguments:</strong></p>
<ol>
<li>(<em>arguments</em>): The functions to compose. Each function is expected to accept a single parameter. Its return value will be provided as an argument to the function standing to the left, and so on. The exception is the right-most argument which can accept multiple parameters, as it will provide the signature for the resulting composed function.</li>
</ol>
<p><strong>Returns:</strong></p>
<p>(<em>Function</em>): The final function obtained by composing the given functions from right to left.</p>
<p><strong>Example:</strong></p>
<p>This example demonstrates how to use <code>compose</code> to enhance a <a target="_blank" rel="noopener" href="https://redux.js.org/api/store">store</a> with <a target="_blank" rel="noopener" href="https://redux.js.org/api/applymiddleware"><code>applyMiddleware</code></a> and a few developer tools from the <a target="_blank" rel="noopener" href="https://github.com/reduxjs/redux-devtools">redux-devtools</a> package.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware, compose &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">&#x27;redux-thunk&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">DevTools</span> <span class="keyword">from</span> <span class="string">&#x27;./containers/DevTools&#x27;</span></span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&#x27;../reducers&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(</span><br><span class="line">    reducer,</span><br><span class="line">    <span class="title function_">compose</span>(</span><br><span class="line">        <span class="title function_">applyMiddleware</span>(thunk),</span><br><span class="line">        <span class="title class_">DevTools</span>.<span class="title function_">instrument</span>()</span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><strong>Tips:</strong></p>
<ul>
<li>All <code>compose</code> does is let you write deeply nested function transformations without the rightward drift of the code. Don’t give it too much credit!</li>
</ul>
<h2 id="（六）Store-API"><a href="#（六）Store-API" class="headerlink" title="（六）Store API"></a>（六）Store API</h2><h4 id="Store"><a href="#Store" class="headerlink" title="Store"></a>Store</h4><p>A store holds the whole <a target="_blank" rel="noopener" href="https://redux.js.org/glossary#state">state tree</a> of your application. The only way to change the state inside it is to dispatch an <a target="_blank" rel="noopener" href="https://redux.js.org/glossary#action">action</a> on it.</p>
<p>A store is not a class. It’s just an object with a few methods on it. To create it, pass your root <a target="_blank" rel="noopener" href="https://redux.js.org/glossary#reducer">reducing function</a> to <a target="_blank" rel="noopener" href="https://redux.js.org/api/createstore"><code>createStore</code></a>.</p>
<h4 id="1-getState"><a href="#1-getState" class="headerlink" title="1.getState()"></a>1.<code>getState()</code></h4><p>Returns the current state tree of your application. It is equal to the last value returned by the store’s reducer.</p>
<p><strong>Returns:</strong></p>
<p><em>(any)</em>: The current state tree of your application.</p>
<h4 id="2-dispatch-action"><a href="#2-dispatch-action" class="headerlink" title="2.dispatch(action)"></a>2.<code>dispatch(action)</code></h4><p>Dispatches an action. This is the only way to trigger a state change.</p>
<p>The store’s reducing function will be called with the current <a target="_blank" rel="noopener" href="https://redux.js.org/api/store#getState"><code>getState()</code></a> result and the given <code>action</code> synchronously. Its return value will be considered the next state. It will be returned from <a target="_blank" rel="noopener" href="https://redux.js.org/api/store#getState"><code>getState()</code></a> from now on, and the change listeners will immediately be notified.</p>
<p><strong>Arguments</strong>:</p>
<ol>
<li><code>action</code> (<em>Object</em>†): A plain object describing the change that makes sense for your application. Actions are the only way to get data into the store, so any data, whether from the UI events, network callbacks, or other sources such as WebSockets needs to eventually be dispatched as actions. Actions must have a <code>type</code> field that indicates the type of action being performed. Types can be defined as constants and imported from another module. It’s better to use strings for <code>type</code> than <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Symbol">Symbols</a> because strings are serializable. Other than <code>type</code>, the structure of an action object is really up to you. If you’re interested, check out <a target="_blank" rel="noopener" href="https://github.com/acdlite/flux-standard-action">Flux Standard Action</a> for recommendations on how actions could be constructed.</li>
</ol>
<p><strong>Returns</strong>:</p>
<p>(Object†): The dispatched action (see notes).</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(todos, [<span class="string">&#x27;Use Redux&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addTodo</span>(<span class="params">text</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;ADD_TODO&#x27;</span>,</span><br><span class="line">        text</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">store.<span class="title function_">dispatch</span>(<span class="title function_">addTodo</span>(<span class="string">&#x27;Read the docs&#x27;</span>))</span><br><span class="line">store.<span class="title function_">dispatch</span>(<span class="title function_">addTodo</span>(<span class="string">&#x27;Read about the middleware&#x27;</span>))</span><br></pre></td></tr></table></figure>



<h4 id="3-subscribe-listener-fn"><a href="#3-subscribe-listener-fn" class="headerlink" title="3.subscribe(listener:fn)"></a>3.<code>subscribe(listener:fn)</code></h4><p>返回一个用以取消该监听的函数</p>
<p>当任意 action 被 dispatch 触发时，都会调用回调函数 fn，要取消订阅更改侦听器，请调用’ subscribe ‘返回的函数。</p>
<p><strong>Returns:</strong></p>
<p>(<em>Function</em>): A function that unsubscribes the change listener.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">select</span>(<span class="params">state</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> state.<span class="property">some</span>.<span class="property">deep</span>.<span class="property">property</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> currentValue</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleChange</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> previousValue = currentValue</span><br><span class="line">    currentValue = <span class="title function_">select</span>(store.<span class="title function_">getState</span>())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (previousValue !== currentValue) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">            <span class="string">&#x27;Some deep nested property changed from&#x27;</span>,</span><br><span class="line">            previousValue,</span><br><span class="line">            <span class="string">&#x27;to&#x27;</span>,</span><br><span class="line">            currentValue</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> unsubscribe = store.<span class="title function_">subscribe</span>(handleChange)</span><br><span class="line"><span class="title function_">unsubscribe</span>()</span><br></pre></td></tr></table></figure>



<h4 id="4-replaceReducer-nextReducer"><a href="#4-replaceReducer-nextReducer" class="headerlink" title="4.replaceReducer(nextReducer)"></a>4.<code>replaceReducer(nextReducer)</code></h4><p>Replaces the reducer currently used by the store to calculate the state.</p>
<p>It is an advanced API. You might need this if your app implements code splitting, and you want to load some of the reducers dynamically. You might also need this if you implement a hot reloading mechanism for Redux.</p>
<p><strong>Arguments:</strong></p>
<ol>
<li><code>nextReducer</code> (<em>Function</em>) The next reducer for the store to use.</li>
</ol>
<h1 id="拓展：Immutable-js"><a href="#拓展：Immutable-js" class="headerlink" title="拓展：Immutable.js"></a>拓展：Immutable.js</h1><h2 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a>一、简介</h2><p>Facebook 工程师 Lee Byron 花费 3 年时间打造，与 React 同期出现，但没有被默认放到 React 工具集里（React 提供了简化的 Helper）。它内部实现了一套完整的 Persistent Data Structure，还有很多易用的数据类型。像 Collection、List、Map、Set、Record、Seq。有非常全面的map、filter、groupBy、reduce``find函数式操作方法。同时 API 也尽量与 Object 或 Array 类似。</p>
<p>首先，它虽然和React同期出现且跟React配合很爽，但它可不是React工具集里的（它的光芒被掩盖了），它是一个完全独立的库，无论基于什么框架都可以用它。意义在于它弥补了Javascript没有不可变数据结构的问题。不可变数据结构是函数式编程中必备的。</p>
<p>比较两个对象是否完全相等: o1.equals(o2)</p>
<p>远不止这些，immutableJS提供了强大的api自己去看吧。由于是不可变的，可以放心的对对象进行任意操作。在React开发中，频繁操作state对象或是store，配合immutableJS快、安全、方便。</p>
<h2 id="二、Immutable-js-的几种数据类型"><a href="#二、Immutable-js-的几种数据类型" class="headerlink" title="二、Immutable.js 的几种数据类型"></a>二、Immutable.js 的几种数据类型</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">List</span>: 有序索引集，类似<span class="title class_">JavaScript</span>中的<span class="title class_">Array</span>。</span><br><span class="line"><span class="title class_">Map</span>: 无序索引集，类似<span class="title class_">JavaScript</span>中的<span class="title class_">Object</span>。</span><br><span class="line"><span class="title class_">OrderedMap</span>: 有序的<span class="title class_">Map</span>，根据数据的<span class="title function_">set</span>()进行排序。</span><br><span class="line"><span class="title class_">Set</span>: 没有重复值的集合。</span><br><span class="line"><span class="title class_">OrderedSet</span>: 有序的<span class="title class_">Set</span>，根据数据的add进行排序。</span><br><span class="line"><span class="title class_">Stack</span>: 有序集合，支持使用<span class="title function_">unshift</span>()和<span class="title function_">shift</span>()添加和删除。</span><br><span class="line"><span class="title class_">Record</span>: 一个用于生成<span class="title class_">Record</span>实例的类。类似于<span class="title class_">JavaScript</span>的<span class="title class_">Object</span>，但是只接收特定字符串为key，具有默认值。</span><br><span class="line"><span class="title class_">Seq</span>: 序列，但是可能不能由具体的数据结构支持。</span><br><span class="line"><span class="title class_">Collection</span>: 是构建所有数据结构的基类，不可以直接构建。</span><br></pre></td></tr></table></figure>

<p>用的最多就是List和Map，所以在这里主要介绍这两种数据类型的API。</p>
<h2 id="三、Immutable-js-的常用API"><a href="#三、Immutable-js-的常用API" class="headerlink" title="三、Immutable.js 的常用API"></a>三、Immutable.js 的常用API</h2><h3 id="（一）fromJS"><a href="#（一）fromJS" class="headerlink" title="（一）fromJS()"></a>（一）fromJS()</h3><p>作用：将一个js数据转换为Immutable类型的数据<br> 用法：<code>fromJS(value, converter)</code><br> 简介：value是要转变的数据，converter是要做的操作。第二个参数可不填，默认情况会将数组转换为List类型，将对象转换为Map类型，其余不做操作</p>
<p>代码实现：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = <span class="title class_">Immutable</span>.<span class="title function_">fromJS</span>(&#123;<span class="attr">a</span>:<span class="string">&#x27;123&#x27;</span>,<span class="attr">b</span>:<span class="string">&#x27;234&#x27;</span>&#125;,<span class="keyword">function</span> (<span class="params">key, value, path</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(key, value, path)</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">isIndexed</span>(value) ? value.<span class="title function_">toList</span>() : value.<span class="title function_">toOrderedMap</span>())</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="（二）toJS"><a href="#（二）toJS" class="headerlink" title="（二）toJS()"></a>（二）toJS()</h3><p>作用：将一个Immutable数据转换为JS类型的数据<br> 用法：<code>value.toJS()</code></p>
<h3 id="（三）is"><a href="#（三）is" class="headerlink" title="（三）is()"></a>（三）is()</h3><p>作用：对两个对象进行比较<br> 用法：<code>is(map1,map2)</code><br> 简介：和js中对象的比较不同，在js中比较两个对象比较的是地址，但是在Immutable中比较的是这个对象hashCode和valueOf，只要两个对象的hashCode相等，值就是相同的，避免了深度遍历，提高了性能</p>
<p>代码实现：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Map</span>, is &#125; <span class="keyword">from</span> <span class="string">&#x27;immutable&#x27;</span></span><br><span class="line"><span class="keyword">const</span> map1 = <span class="title class_">Map</span>(&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">1</span>, <span class="attr">c</span>: <span class="number">1</span> &#125;)</span><br><span class="line"><span class="keyword">const</span> map2 = <span class="title class_">Map</span>(&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">1</span>, <span class="attr">c</span>: <span class="number">1</span> &#125;)</span><br><span class="line">map1 === map2   <span class="comment">//false</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(map1, map2) <span class="comment">// false</span></span><br><span class="line"><span class="title function_">is</span>(map1, map2) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>参考自简书：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/0fa8c7456c15">https://www.jianshu.com/p/0fa8c7456c15</a></p>
<p>官方文档：<a target="_blank" rel="noopener" href="https://immutable-js.github.io/immutable-js/">https://immutable-js.github.io/immutable-js/</a></p>

      </section>

      
      
        <nav class="article-nav">
          
            <div class="article-nav-item layout-padding">
  <article class="card-container article-nav-card content-padding--primary soft-size--large soft-style--box">
    
      <div class="card-cover" background-image-lazy data-img="/2022/07/13/hell/cover-04.jpg-webp.jpg"></div>
    
    <div class="card-text">
      
        <a href="/2022/07/13/E_React/08_Redux/" itemprop="url">
          <h2 class="card-text--title text-ellipsis">08_Redux</h2>
        </a>
      
      <div class="card-text--row">Newer</div>
    </div>
  </article>
</div>
          
          
            <div class="article-nav-item layout-padding">
  <article class="card-container article-nav-card content-padding--primary soft-size--large soft-style--box">
    
      <div class="card-cover" background-image-lazy data-img="/2022/07/13/hell/cover-04.jpg-webp.jpg"></div>
    
    <div class="card-text">
      
        <a href="/2022/07/13/E_React/09_React-cli/" itemprop="url">
          <h2 class="card-text--title text-ellipsis">09_React-cli</h2>
        </a>
      
      <div class="card-text--row">Older</div>
    </div>
  </article>
</div>
          
        </nav>
      

      <section class="page-message-container layout-padding">
        


  
  

  
  


      </section>
    </div>
    <div class="widget-info">
      <section class="widget-author widget-item layout-margin content-padding--primary soft-size--large soft-style--box">
  <div class="widget-body">
    
      <img src="https://s.gravatar.com/avatar/2d6b803eea37de0257620d5fabee7e64?s=200&amp;r=g&amp;d=retro" class="soft-size--round soft-style--box" alt="Sukoshi">
    
    
      <h2>Sukoshi</h2>
    
    
      <p>贵在坚持</p>
    

    <div class="count-box">
      <div class="count-box--item">
        <svg class="icon icon-article" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M240.51564747 647.74217627h196.07203239c16.59071043 0 30.16492806-13.57421762 30.16492805-30.16492806V165.10332731c0-33.18142087-30.16492806-60.32985613-60.32985612-60.32985611H245.04038668C225.43318342 104.7734712 210.35071939 119.85593522 210.35071939 139.46313845V617.57724821c0 16.59071043 13.57421762 30.16492806 30.16492808 30.16492806z m663.62841731-452.47392089v482.63884894c0 33.18142087-27.14843525 60.32985613-60.32985612 60.32985613H180.18579134c-33.18142087 0-60.32985613-27.14843525-60.32985612-60.32985613V195.26825538c-49.77213131 0-90.49478418 40.72265287-90.49478417 90.49478417v452.4739209c0 49.77213131 40.72265287 90.49478418 90.49478417 90.49478417h286.56681657c16.59071043 0 30.16492806 13.57421762 30.16492807 30.16492807s13.57421762 30.16492806 30.16492805 30.16492806h90.49478418c16.59071043 0 30.16492806-13.57421762 30.16492805-30.16492806s13.57421762-30.16492806 30.16492807-30.16492807h286.56681657c49.77213131 0 90.49478418-40.72265287 90.49478417-90.49478417V285.76303955c0-49.77213131-40.72265287-90.49478418-90.49478417-90.49478417zM587.41232014 647.74217627h191.54729318c19.60720323 0 34.68966726-15.08246403 34.68966729-34.68966727V134.93839925c0-16.59071043-13.57421762-30.16492806-30.16492808-30.16492805H617.57724821c-30.16492806 0-60.32985613 27.14843525-60.32985612 60.32985611v452.4739209c0 16.59071043 13.57421762 30.16492806 30.16492805 30.16492806z" fill="currentColor"></path>
</svg>
        <span>17</span>
      </div>
      <div class="count-box--item">
        <svg class="icon icon-categories" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M900.3614811 257.09082106h-339.81629553l-67.96326003-101.9448889c-19.41807444-29.12711113-48.54518557-43.69066667-82.52681443-43.69066667H123.6385189c-53.39970333 0-97.09036999 43.69066667-97.09037113 97.09036999v582.54222222c0 53.39970333 43.69066667 97.09036999 97.09037113 97.09037002h776.7229622c53.39970333 0 97.09036999-43.69066667 97.09037113-97.09037002V354.18119104c0-53.39970333-43.69066667-97.09036999-97.09037113-97.09036998z m-97.09036999 242.72592554H220.72888889c-24.27259221 0-48.54518557-24.27259221-48.54518556-48.54518556s24.27259221-48.54518557 48.54518556-48.54518444h582.54222222c24.27259221 0 48.54518557 24.27259221 48.54518556 48.54518444s-24.27259221 48.54518557-48.54518556 48.54518556z" fill="currentColor"></path>
</svg>
        4
      </div>
      <div class="count-box--item">
        <svg class="icon icon-tags" viewBox="0 0 1098 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M283.42180005 272q0-28.38857157-20.09142843-48.48000001t-48.47999998-20.09142842-48.48000002 20.09142842-20.09142846 48.48000001 20.09142846 48.48 48.48000002 20.09142843 48.47999998-20.09142843 20.09142843-48.48zM855.0332285 580.57142843q0 28.38857157-19.81714313 48.2057147l-263.03999997 263.58857157q-20.9142853 19.81714313-48.75428534 19.81714312-28.38857157 0-48.20571468-19.81714312l-383.04-383.58857157q-20.36571468-19.81714313-34.55999999-54.10285688t-14.19428534-62.6742853l0-222.85714313q0-27.84000002 20.36571469-48.20571469t48.2057147-20.36571466l222.85714313 0q28.38857157 0 62.6742853 14.19428529t54.65142842 34.55999999l383.04000001 382.49142843q19.81714313 20.9142853 19.81714314 48.75428532zM1060.74751475 580.57142843q0 28.38857157-19.81714313 48.2057147l-263.04 263.58857157q-20.9142853 19.81714313-48.75428531 19.81714312-19.26857155 0-31.61142843-7.47428531t-28.38857159-24.13714314l251.79428534-251.7942853q19.81714313-19.81714313 19.81714308-48.20571469 0-27.84000002-19.81714308-48.75428531l-383.04000001-382.49142845q-20.36571468-20.36571468-54.65142842-34.55999999t-62.67428532-14.19428534l120 0q28.38857157 0 62.67428532 14.19428534t54.65142842 34.55999999l383.03999998 382.49142845q19.81714313 20.9142853 19.81714314 48.75428531z" fill="currentColor"></path>
</svg>
        0
      </div>
    </div>
  </div>
</section>

      
<section class="widget-toc widget-item layout-margin content-padding--primary soft-size--large soft-style--box">
  <div class="widget-title">
    <svg class="icon icon-toc" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M134.50666666 767.46666668H460.8c27.73333333 0 50.24000001 22.50666668 50.24000001 50.23999999v50.13333333c0 27.73333333-22.50666668 50.24000001-50.24000001 50.24000001H134.50666666c-27.73333333 0-50.24000001-22.50666668-50.23999999-50.24000001v-50.13333333c0.10666668-27.73333333 22.50666668-50.24000001 50.24000001-50.24000001zM84.37333332 541.65333333h326.18666669c27.73333333 0 50.24000001 22.39999999 50.23999999 50.13333334v50.24000001c0 27.73333333-22.50666668 50.24000001-50.24000002 50.23999999H84.37333332c-27.73333333 0-50.24000001-22.50666668-50.23999999-50.23999999v-50.24000001c0-27.73333333 22.50666668-50.13333334 50.24000001-50.13333334zM134.50666666 315.83999999H460.8c27.73333333 0 50.24000001 22.50666668 50.24000001 50.24000001v50.24000001c0 27.73333333-22.50666668 50.13333334-50.24000001 50.13333333H134.50666666c-27.73333333 0-50.24000001-22.39999999-50.23999999-50.13333333v-50.24000001c0.10666668-27.84000001 22.50666668-50.24000001 50.24000001-50.23999999zM209.81333332 89.91999999h326.18666671c27.73333333 0 50.24000001 22.39999999 50.23999997 50.13333335v50.23999999c0 27.73333333-22.50666668 50.24000001-50.24000001 50.24000001H209.81333332c-27.73333333 0-50.24000001-22.50666668-50.23999999-50.24000001v-50.24000001c0-27.73333333 22.50666668-50.13333334 50.24000001-50.13333333zM692.05333333 623.36l274.66666669 176.00000002c23.36000001 14.93333333 30.08 45.97333334 15.14666666 69.33333332L954.77333334 910.93333333c-14.93333333 23.25333334-45.97333334 30.08-69.33333335 15.14666667l-274.66666666-176c-23.36000001-14.93333333-30.08-45.97333334-15.14666667-69.33333333l27.09333334-42.24000001c14.93333333-23.36000001 46.08000001-30.08 69.33333333-15.14666666z" fill="currentColor"></path>
</svg>
    <span>TOC</span>
  </div>
  <div class="widget-body">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89createStore"><span class="toc-number">1.</span> <span class="toc-text">（一）createStore</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89combineReducers"><span class="toc-number">2.</span> <span class="toc-text">（二）combineReducers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89applyMiddleware"><span class="toc-number">3.</span> <span class="toc-text">（三）applyMiddleware</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E5%9B%9B%EF%BC%89bindActionCreators"><span class="toc-number">4.</span> <span class="toc-text">（四）bindActionCreators</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%BA%94%EF%BC%89compose"><span class="toc-number">5.</span> <span class="toc-text">（五）compose</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E5%85%AD%EF%BC%89Store-API"><span class="toc-number">6.</span> <span class="toc-text">（六）Store API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E7%AE%80%E4%BB%8B"><span class="toc-number">7.</span> <span class="toc-text">一、简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Immutable-js-%E7%9A%84%E5%87%A0%E7%A7%8D%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">8.</span> <span class="toc-text">二、Immutable.js 的几种数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81Immutable-js-%E7%9A%84%E5%B8%B8%E7%94%A8API"><span class="toc-number">9.</span> <span class="toc-text">三、Immutable.js 的常用API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89fromJS"><span class="toc-number">9.1.</span> <span class="toc-text">（一）fromJS()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89toJS"><span class="toc-number">9.2.</span> <span class="toc-text">（二）toJS()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89is"><span class="toc-number">9.3.</span> <span class="toc-text">（三）is()</span></a></li></ol></li></ol>
  </div>
</section>


      
<section class="widet-notice widget-item layout-margin content-padding--primary soft-size--large soft-style--box">
  <div class="widget-title">
    <svg class="icon icon-notice" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M512 945.02305225v28.15620663a24.27259221 24.27259221 0 0 1-24.27259221 24.27259335H394.0352a48.54518557 48.54518557 0 0 1-41.74885888-23.78714112l-110.68302222-184.47170332a132.04290333 132.04290333 0 0 1-17.47626667-48.54518557h118.4502511a200.97706667 200.97706667 0 0 1 76.21594113 14.56355556l20.38897777 133.49925888a48.54518557 48.54518557 0 0 0 36.40888888 27.67075555l16.01991111 2.91271112a24.27259221 24.27259221 0 0 1 20.38897778 25.72894889zM997.45185223 463.45481443a194.18074112 194.18074112 0 0 1-38.8361489 116.50844445 24.75804445 24.75804445 0 0 1-36.4088889 0l-34.95253333-34.95253333a24.27259221 24.27259221 0 0 1-2.91271111-30.58346667 97.09036999 97.09036999 0 0 0 0-106.79940665 24.27259221 24.27259221 0 0 1 2.91271111-30.58346666l34.95253333-34.95253334a24.75804445 24.75804445 0 0 1 18.93262223-7.28177777 26.2144 26.2144 0 0 1 17.47626667 9.70903665A194.18074112 194.18074112 0 0 1 997.45185223 463.45481443z m-194.18074112-388.36148111v776.72296335a48.54518557 48.54518557 0 0 1-48.54518556 48.54518443h-28.64165888a48.54518557 48.54518557 0 0 1-33.98163001-14.07810332l-145.63555556-143.20829668A291.27111111 291.27111111 0 0 0 342.57730333 657.63555556H172.18370333a145.63555556 145.63555556 0 0 1-145.63555556-145.63555556v-97.09036999a145.63555556 145.63555556 0 0 1 145.63555556-145.63555556h170.3936a291.27111111 291.27111111 0 0 0 206.31703779-85.43952668l145.63555555-143.20829554a48.54518557 48.54518557 0 0 1 33.98162888-14.07810446H754.72592555a48.54518557 48.54518557 0 0 1 48.54518556 48.54518555z" fill="currentColor"></path>
</svg>
    <span>NOTICE</span>
  </div>
  <div class="widget-body">
    <p>flex-block主题部分重构，详情查看https://github.com/miiiku/flex-block</p>
  </div>
</section>


      <section class="widget-categorys widget-item layout-margin content-padding--primary soft-size--large soft-style--box">
  <div class="widget-title">
    <svg class="icon icon-categories" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M900.3614811 257.09082106h-339.81629553l-67.96326003-101.9448889c-19.41807444-29.12711113-48.54518557-43.69066667-82.52681443-43.69066667H123.6385189c-53.39970333 0-97.09036999 43.69066667-97.09037113 97.09036999v582.54222222c0 53.39970333 43.69066667 97.09036999 97.09037113 97.09037002h776.7229622c53.39970333 0 97.09036999-43.69066667 97.09037113-97.09037002V354.18119104c0-53.39970333-43.69066667-97.09036999-97.09037113-97.09036998z m-97.09036999 242.72592554H220.72888889c-24.27259221 0-48.54518557-24.27259221-48.54518556-48.54518556s24.27259221-48.54518557 48.54518556-48.54518444h582.54222222c24.27259221 0 48.54518557 24.27259221 48.54518556 48.54518444s-24.27259221 48.54518557-48.54518556 48.54518556z" fill="currentColor"></path>
</svg>
    <span>CATEGORYS</span>
  </div>
  <div class="widget-body">
    <ul class="categorys-list">
      
        <li class="categorys-list-item">
          <a href="/categories/A-HTML/">
            A_HTML (2)
          </a>
        </li>
      
        <li class="categorys-list-item">
          <a href="/categories/C-Javascript/">
            C_Javascript (6)
          </a>
        </li>
      
        <li class="categorys-list-item">
          <a href="/categories/B-CSS/">
            B_CSS (1)
          </a>
        </li>
      
        <li class="categorys-list-item">
          <a href="/categories/E-React/">
            E_React (7)
          </a>
        </li>
      
    </ul>
  </div>
</section>

      <section class="widget-tags widget-item  layout-margin content-padding--primary soft-size--large soft-style--box">
  <div class="widget-title">
    <svg class="icon icon-tags" viewBox="0 0 1098 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M283.42180005 272q0-28.38857157-20.09142843-48.48000001t-48.47999998-20.09142842-48.48000002 20.09142842-20.09142846 48.48000001 20.09142846 48.48 48.48000002 20.09142843 48.47999998-20.09142843 20.09142843-48.48zM855.0332285 580.57142843q0 28.38857157-19.81714313 48.2057147l-263.03999997 263.58857157q-20.9142853 19.81714313-48.75428534 19.81714312-28.38857157 0-48.20571468-19.81714312l-383.04-383.58857157q-20.36571468-19.81714313-34.55999999-54.10285688t-14.19428534-62.6742853l0-222.85714313q0-27.84000002 20.36571469-48.20571469t48.2057147-20.36571466l222.85714313 0q28.38857157 0 62.6742853 14.19428529t54.65142842 34.55999999l383.04000001 382.49142843q19.81714313 20.9142853 19.81714314 48.75428532zM1060.74751475 580.57142843q0 28.38857157-19.81714313 48.2057147l-263.04 263.58857157q-20.9142853 19.81714313-48.75428531 19.81714312-19.26857155 0-31.61142843-7.47428531t-28.38857159-24.13714314l251.79428534-251.7942853q19.81714313-19.81714313 19.81714308-48.20571469 0-27.84000002-19.81714308-48.75428531l-383.04000001-382.49142845q-20.36571468-20.36571468-54.65142842-34.55999999t-62.67428532-14.19428534l120 0q28.38857157 0 62.67428532 14.19428534t54.65142842 34.55999999l383.03999998 382.49142845q19.81714313 20.9142853 19.81714314 48.75428531z" fill="currentColor"></path>
</svg>
    <span>TAGS</span>
  </div>
  <div class="widget-body">
    <div class="tags-cloud">
      
    </div>
  </div>
</section>
    </div>
  </article>
</div>

    <!-- footer container -->
<footer id="footer" class="footer">
  <div class="footer-container">
    
    <div class="social-icons">
      
        
      
        
      
        
      
        
          <a href="https://github.com/miiiku/" class="soft-size--primary soft-style--box" target="_blank" rel="noopener noreferrer">
            <svg class="icon icon-github" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M64.6 512c0 195.6 125.4 361.9 300.1 422.9 23.5 5.9 19.9-10.8 19.9-22.2v-77.6c-135.8 15.9-141.3-74-150.5-89-18.5-31.5-61.9-39.5-49-54.5 31-15.9 62.5 4 98.9 58 26.4 39.1 77.9 32.5 104.1 26 5.7-23.5 17.9-44.5 34.7-60.9-140.7-25.2-199.4-111.1-199.4-213.3 0-49.5 16.4-95.1 48.4-131.8-20.4-60.6 1.9-112.4 4.9-120.1 58.2-5.2 118.5 41.6 123.3 45.3 33.1-8.9 70.8-13.7 112.9-13.7 42.4 0 80.3 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.4-43.9 2.9 7.7 24.7 58.3 5.5 118.1 32.5 36.8 49 82.8 49 132.4 0 102.3-59 188.3-200.2 213.2 23.5 23.3 38.1 55.5 38.1 91.1v112.7c0.8 9 0 17.9 15.1 17.9C832.7 877 960.4 709.4 960.4 512.1c0-247.5-200.6-447.9-447.9-447.9C265 64.1 64.6 264.5 64.6 512z"></path>
</svg>
          </a>
        
      
        
          <a href="https://twitter.com/guanquanhong" class="soft-size--primary soft-style--box" target="_blank" rel="noopener noreferrer">
            <svg class="icon icon-twitter" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M962.285714 233.142857q-38.285714 56-92.571429 95.428571 0.571429 8 0.571429 24 0 74.285714-21.714286 148.285714t-66 142-105.428571 120.285714-147.428571 83.428571-184.571429 31.142857q-154.857143 0-283.428571-82.857143 20 2.285714 44.571429 2.285714 128.571429 0 229.142857-78.857143-60-1.142857-107.428571-36.857143t-65.142857-91.142857q18.857143 2.857143 34.857143 2.857143 24.571429 0 48.571429-6.285714-64-13.142857-106-63.714286t-42-117.428571l0-2.285714q38.857143 21.714286 83.428571 23.428571-37.714286-25.142857-60-65.714286t-22.285714-88q0-50.285714 25.142857-93.142857 69.142857 85.142857 168.285714 136.285714t212.285714 56.857143q-4.571429-21.714286-4.571429-42.285714 0-76.571429 54-130.571429t130.571429-54q80 0 134.857143 58.285714 62.285714-12 117.142857-44.571429-21.142857 65.714286-81.142857 101.714286 53.142857-5.714286 106.285714-28.571429z"></path>
</svg>
          </a>
        
      
    </div>
     
    <p>&copy; 2022 <a href="/" target="_blank">Duke Shao</a></p>

    

    <p>Powered by <a href="https://hexo.io" target="_blank" rel="noopener noreferrer">Hexo</a> Theme - <a href="https://github.com/miiiku/flex-block" target="_blank" rel="noopener noreferrer author">flex-block</a></p>

    <p>
      <a href="javascript:;" id="theme-light">🌞 浅色</a>
      <a href="javascript:;" id="theme-dark">🌛 深色</a>
      <a href="javascript:;" id="theme-auto">🤖️ 自动</a>
    </p>
  </div>
</footer>
  </div>

  <div class="back-to-top-fixed soft-size--round soft-style--box">
    <svg class="icon icon-back-to-top" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
      <path d="M725.333333 426.666667c-12.8 0-21.333333-4.266667-29.866667-12.8l-213.333333-213.333333c-17.066667-17.066667-17.066667-42.666667 0-59.733333s42.666667-17.066667 59.733333 0l213.333333 213.333333c17.066667 17.066667 17.066667 42.666667 0 59.733333C746.666667 422.4 738.133333 426.666667 725.333333 426.666667z"></path>
      <path d="M298.666667 426.666667c-12.8 0-21.333333-4.266667-29.866667-12.8-17.066667-17.066667-17.066667-42.666667 0-59.733333l213.333333-213.333333c17.066667-17.066667 42.666667-17.066667 59.733333 0s17.066667 42.666667 0 59.733333l-213.333333 213.333333C320 422.4 311.466667 426.666667 298.666667 426.666667z"></path>
      <path d="M512 896c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 170.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 682.666667C554.666667 878.933333 537.6 896 512 896z"></path>
    </svg>
  </div>

  
  <!-- aplayer -->


<!-- dplayer -->




  


  


  




<script src="/js/script.js"></script>


  
  <!-- 尾部用户自定义相关内容 -->
</body>
</html>
